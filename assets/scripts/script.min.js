let notes=[{title:"Welcome!",content:"This is basically just https://westtle.github.io/simple-note/, but with more features. You can now add more notes and remove them if you want to.\n\nThere are also some tools that you can use below. For example, you can paste from your clipboard, copy, cut, delete, and enable word wrapping.",id:0,lastOpened:!0}];const newTabButton=document.querySelector(".new-note_"),noteTitleInput=document.querySelector("._title input"),noteBody=document.querySelector("._body textarea");function addTab(){let e=document.createElement("button");e.classList.add("_tab"),e.title="New Note",e.innerText="New Note",e.setAttribute("data-id",+new Date),e.setAttribute("data-open","true"),e.addEventListener("click",openTab),document.querySelector(".__tabs").insertBefore(e,newTabButton);let t={title:"New Note",content:"",id:e.dataset.id,lastOpened:!0};notes.push(t),e.click(),saveNote(),noteTitleInput.select()}function openTab(){let e=document.querySelectorAll(".__tabs ._tab:not(._tab-tools)"),t=notes.find(e=>e.id==this.dataset.id);e.forEach(e=>e.dataset.open="false"),this.dataset.open="true",notes.forEach(e=>e.lastOpened=!1),t.lastOpened=!0,noteTitleInput.value=t.title,noteBody.value=t.content,saveNote()}function saveNote(){let e=document.querySelector("[data-open='true']");notes.find(t=>{t.id==e.dataset.id&&(t.title=noteTitleInput.value,t.content=noteBody.value,e.title=t.title,""==noteTitleInput.value?(t.title="Unnamed",e.textContent="Unnamed",e.title="Unnamed"):e.textContent=t.title,localStorage.setItem("Notes",JSON.stringify(notes)))})}function loadNotes(){let e=JSON.parse(localStorage.getItem("Notes"));notes=e||notes;let t=JSON.parse(localStorage.getItem("Note Config"));noteConfig=t||noteConfig,noteBody.style.fontSize=noteConfig.fontSize+"rem",noteBody.dataset.enableWrap=noteConfig.wordWrap,wrapButton.dataset.enableWrap=noteConfig.wordWrap,notes.forEach(e=>{let t=document.createElement("button");t.classList.add("_tab"),t.title=`${e.title}`,t.innerText=`${e.title}`,t.setAttribute("data-id",`${e.id}`),t.setAttribute("data-open",`${e.lastOpened}`),t.addEventListener("click",openTab),document.querySelector(".__tabs").insertBefore(t,newTabButton)}),document.querySelector("[data-open='true']").click()}newTabButton.addEventListener("click",addTab),noteTitleInput.addEventListener("input",()=>{debouncedsaveNote(),debouncedtoolMessage("Saved...")}),noteBody.addEventListener("input",()=>{debouncedsaveNote(),debouncedtoolMessage("Saved...")}),document.addEventListener("DOMContentLoaded",()=>loadNotes());